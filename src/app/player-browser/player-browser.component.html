<div id="parent">
  <div class="player-list">
    <div class="header item">
      <p>Name</p>
      <p># of Games</p>
    </div>
    <br>
    <div *ngFor="let player of players" class="item"
    (click)="playerClicked(player)">
      <p>{{player.name}}</p>
      <p>{{player.game_count}}</p>
    </div>
  </div>
  <div *ngIf="selectedPlayer; else elseBlock" class="player-details">
    <div class="header">
      <h2>{{selectedPlayer.name}} <span class="game-count">({{selectedPlayer.game_count}})</span></h2>
      <p class="matched-names">
        {{getAliases()}}
      </p>
    </div>
    <div class="pstats">
      <div class="kd item">
        <p class="title">KD Ratio</p>
        <p class="total">{{selectedPlayerInfo.pstats.total_frags / selectedPlayerInfo.pstats.total_deaths | number}}</p>
        <p class="desc">{{selectedPlayerInfo.pstats.total_frags | number}} / {{selectedPlayerInfo.pstats.total_deaths | number}}</p>
      </div>
      <div class="dmg item">
        <p class="title">DMG Ratio</p>
        <p class="total">{{selectedPlayerInfo.pstats.total_dmg_given / selectedPlayerInfo.pstats.total_dmg_taken | number}}</p>
        <p class="desc">{{selectedPlayerInfo.pstats.total_dmg_given | number}} / {{selectedPlayerInfo.pstats.total_dmg_taken | number}}</p>
      </div>
    </div>
    <h3>Recent Games</h3>
    <table>
      <tr>
        <th>Hostname</th>
        <th>Gametype</th>
        <th>Map</th>
        <th>Date</th>
      </tr>
      <tr *ngFor="let game of selectedPlayerInfo.recentGames">
        <td [innerHTML]="game.hostname | coloredName"></td>
        <td>{{game.gametype}}</td>
        <td>{{game.map}}</td>
        <td>{{game.date}}</td>
        
      </tr>
    </table>
    <p (click)="navigateToPlayerPage();" class="full-page-link">Link to full player page</p>
  </div>
  <ng-template #elseBlock>
    <div class="player-details">

    </div>
  </ng-template>
</div>
